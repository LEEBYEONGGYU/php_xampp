<load target="js/jquery.easing.js" />
<load target="js/lofslidernews.js" />
<load target="css/style2.css" />

<!--// 멀티스킨 사용을 위해 변수 또는 ID 랜덤 지정 -->
{@$slide_id = mt_rand()}
{@$skin_id = "cm04_".$slide_id}

<!--// 제목 폰트 크기 정의 -->
<!--@if(!$media_info->title_font_size)-->
	{@ $title_font_size = 12}
<!--@else-->
	{@ $title_font_size = $media_info->title_font_size}
<!--@end-->

<!--// 제목 폰트 색 정의 -->
<!--@if(!$media_info->title_font_color)-->
	{@ $title_font_color = '#222'}
<!--@else-->
	{@ $title_font_color = $media_info->title_font_color}
<!--@end-->

<!--// 제목 글꼴 정의 -->
<!--@if($media_info->title_font_family=='Default')-->
	{@ $title_font_family = "굴림,Arial,Helevtica,Verdana,san-serif"}
<!--@else-->
	{@ $title_font_family = $media_info->title_font_family}
<!--@end-->

<!--// 사용자 폰트인 경우 -->
<!--@if($media_info->title_font_user)-->
	{@ $title_font_family = $media_info->title_font_user}
<!--@end-->

<!--// 제목+카테고리 높이(30px) -->
<!--@if(!$media_info->title_height)-->
	{@ $textT1_Height = 30}
<!--@else-->
	{@ $textT1_Height = $media_info->title_height}
<!--@end-->

<!-- // 전체넓이 -->
{@ $widget_width = $media_info->media_width+$media_info->titlebox_width}
{@ $media_info->titlebox_width = $media_info->titlebox_width+15}

<!--// 리스트 갯수  -->
{@ $widget_height = ($media_info->thumbnail_height+10)*$media_info->rows_list_count}
<!--@if($widget_height>$media_info->media_height)-->
{@ $media_info->rows_list_count = (int)(($media_info->media_height)/($media_info->thumbnail_height+10))}
<!--@end-->
{@ $navItems_height = (int)(($media_info->media_height)/$media_info->rows_list_count)}

{@ $skincssimgpath = getSiteUrl()."widgets/contentsmedia/skins/mplayer"}

<style type="text/css">

/************************************************************************************
RESET
*************************************************************************************/
html, body, address, blockquote, div, dl, form, h1, h2, h3, h4, h5, h6, ol, p, pre, table, ul,
dd, dt, li, tbody, td, tfoot, th, thead, tr, button, del, ins, map, object,
a, abbr, acronym, b, bdo, big, br, cite, code, dfn, em, i, img, kbd, q, samp, small, span,
strong, sub, sup, tt, var, legend, fieldset {
	margin: 0;
	padding: 0;
}
img, fieldset {
	border: 0;
}

.textT1_{$skin_id}, .textT1_{$skin_id} a, .textT1_{$skin_id} a:visited {
	color:{$title_font_color};
	font-family: {$title_font_family};
	font-size: {$title_font_size}px;
	font-weight: bold;
	text-decoration: none;
	text-align:center;
	margin-top:10px;
	height:{$textT1_Height}px;
	line-height: normal;
	<!--@if($media_info->show_title=='Y')-->display:block;<!--@else-->display:none;<!--@end-->
}
.textT1_{$skin_id} a:hover, .textT1_{$skin_id} a:focus {
	text-decoration: underline;
}

#{$skin_id}{
	position:relative;
	width:{$widget_width}px; /* 전체 넓이 */
	height:{$media_info->media_height}px; /* 전체 높이 */
	overflow:hidden;
	z-index:1;
	margin: 10px;
}
	
ul.lof-main-wapper li {
	position:relative;	
}
.lof-slidecontent {
	width:{$widget_width}px; /* 전체 넓이 */
	height:{$media_info->media_height}px; /* 전체 높이 */
}
.lof-slidecontent .main-slider-content{
	width:{$media_info->media_width}px;
	height:{$media_info->media_height}px;
}
.lof-slidecontent .sliders-wrapper {
	width:{$media_info->media_width}px; /* 전체 넓이 */
}

.lof-slidecontent  .navigator-content {
	top:0px;
	height:{$media_info->media_height}px;
	width:{$media_info->titlebox_width}px;
}
.lof-slidecontent .navigator-wrapper{
	height:auto;
	width:{$media_info->titlebox_width}px;
}

.lof-slidecontent ul.navigator-wrap-inner li img {
	height:{$navItems_height-30}px;
	width:{$media_info->thumbnail_width}px;
	margin:0px 15px 10px 0px;
	line-height: {$navItems_height}px;
}
.lof-slidecontent ul.navigator-wrap-inner li a {
	line-height: 18px;
	font: 12px dotum,sans-serif;
}
.lof-slidecontent ul.navigator-wrap-inner li p {
	width: auto;
	padding: 6px 0 0 11px;
}
.lof-slidecontent ul.navigator-wrap-inner li p span {
	margin: 0;
	letter-spacing: 0;
	color: #fff;
	font: 11px 돋움, dotum, sans-serif;
}
.lof-slidecontent ul.navigator-wrap-inner li p .vLine {
color: #555;
padding: 0 4px 0 6px;
}
.lof-slidecontent a, .lof-slidecontent a:visited, .lof-slidecontent a:link, .lof-slidecontent a:active {
	text-decoration: none;
	color: #fff;
}
#{$skin_id} .slider-description {
	width:{$media_info->media_width-15}px;
	left:0px;
	display:none;
}
/* contentsmedia 위젯 MediaNews 스킨 : 배워서남준다(http://studyu.cafe24.com)*/
</style>


<div id="{$skin_id}" class="lof-slidecontent">
	<div class="preload">
		<div></div>
	</div>
	<div  class="button-previous">Previous</div>
	<!-- MAIN CONTENT --> 
	<div class="main-slider-content">
		<ul class="sliders-wrap-inner">
		<!--@foreach($media_info->media_items as $key1 => $mitem)-->
			<li>
			<!--@if($mitem->getMedia())-->
				{$mitem->getMedia()}
			<!--@elseif($mitem->getThumbnail() && $media_info->show_thumbnail == "Y")-->
				<img src="{$mitem->getImageMax()}" width="{$media_info->media_width}" height="{$media_info->media_height}" title='{$mitem->getTitle($media_info->subject_cut_size)}' />
			<!--@end-->
				<div class="slider-description">
					<div class="slider-meta"><a href="#" onclick="return false;" class="author member_{$mitem->getMemberSrl()}">{$mitem->getNickName()}</a> <i> — {$mitem->getRegdate("Y.M.d H:i")}</i></div>
					<h4>{$mitem->getTitle($media_info->subject_cut_size)}</h4>
					<p>{$mitem->getContent($media_info->content_cut_size)}
					<a class="readmore" href="{$mitem->getLinkDoc()}">더보기 </a>
					</p>
				</div>
			</li>
		<!--@end-->
		</ul>
	</div>
	<!-- END MAIN CONTENT -->
	<!-- NAVIGATOR -->
	<div class="navigator-content">
		<div class="navigator-wrapper">
			<ul class="navigator-wrap-inner">
			<!--@foreach($media_info->media_items as $key => $item)-->
				<li>
					<div>
						<!--@if($item->getThumbnail() && $media_info->show_thumbnail == "Y")-->
						<img class="nav-image" src="{$item->getThumbnail()}" /><!--@end-->
						<a href="{$item->getLinkDoc()}"  title='{$item->getTitle($media_info->subject_cut_size)}'>
						{$item->getTitle($media_info->subject_cut_size)}</a>
						<!--@if($media_info->show_comment_count=='Y' && $item->getCommentCount())--><em>[{$item->getCommentCount()}]</em><!--@end-->
						<p>
						<span>조회수: <strong><!--@if($item->getReadedCount())-->{$item->getReadedCount()}<!--@else-->0<!--@end--></strong></span>
						<span class="vLine">|</span>
						<span>추천수: <strong><!--@if($item->getVotedCount())-->+{$item->getVotedCount()}<!--@else-->0<!--@end--></strong></span>
						</p>
					</div>
				</li>
			<!--@end-->
			</ul>
		</div>
	</div> 
	<!-- END OF NAVIGATOR -->
	<div class="button-next">Next</div>
</div>
<!-- END OF THE CONTENT -->


<script type="text/javascript">
jQuery(document).ready(function($){
	var buttons = {previous:$('#{$skin_id} .button-previous'),next:$('#{$skin_id} .button-next')};
	var _complete = function(slider, index){ 
		$('#{$skin_id} .slider-description').hide();
		slider.find(".slider-description").hide()};
	$('#{$skin_id}').lofJSidernews({
		interval:5000,
		easing:'easeInOutQuad',
		direction:'z-index',
		duration:1200,
		auto:false,
		mainWidth:{$media_info->media_width},
		mainHeight:{$media_info->media_height},
		navigatorHeight:{$navItems_height},
		navigatorWidth:{$media_info->titlebox_width},
		maxItemDisplay:{$media_info->rows_list_count},
		buttons:buttons});
	// 자막
	$('#{$skin_id}').find('.slider-description').css({ position: 'absolute' }).end()
    .hover(function(){ showCaption( $(this) ) }, function(){ hideCaption( $(this) ); });
	showCaption = function(el){
		var $this = el;
		if ($this.find('.slider-description').length) {
			$this.find('.slider-description')
			.show()
			.animate({ top: 0, opacity: 1 }, 400)
		}
	};
	hideCaption = function(el){
		var $this = el;
		if ($this.find('.slider-description').length) {
			$this.find('.slider-description')
			.stop()
			.animate({ top: -50, opacity: 0 }, 350, function(){
				$this.find('.slider-description').hide();
			}); 
		}
	};
	hideCaption( $('#{$skin_id} .slider-description') );
});
</script>