<!--// 위젯이나 레이아웃에서 로딩된 js 중복 체크 -->
<!--@foreach(Context::getJsFile() as $key => $jsfile)-->
	<!--@if(preg_match('/jquery.anythingslider.js/i',$jsfile['file']))-->{@$anytjs='Y'}<!--@end-->
	<!--@if(preg_match('/jquery.anythingslider.fx.min.js/i',$jsfile['file']))-->{@$anytfxjs='Y'}<!--@end-->
	<!--@if(preg_match('/jwplayer.js/i',$jsfile['file']))-->{@$jwjs='Y'}<!--@end-->
	<!--@if(preg_match('/jquery.media.js/i',$jsfile['file']))-->{@$jqmjs='Y'}<!--@end-->
	<!--@if(preg_match('/swfobject.js/i',$jsfile['file']))-->{@$swfjs='Y'}<!--@end-->
	<!--@if(preg_match('/silverlight.js/i',$jsfile['file']))-->{@$silvjs='Y'}<!--@end-->
	<!--@if(preg_match('/wmvplayer.js/i',$jsfile['file']))-->{@$wmvjs='Y'}<!--@end-->
	<!--@if(preg_match('/flowplayer-3.2.8.min.js/i',$jsfile['file']))-->{@$flowjs='Y'}<!--@end-->
<!--@end-->

<load cond="$anytjs!='Y'" target="css/anythingslider.css" />
<load cond="$anytjs!='Y'" target="js/jquery.anythingslider.js" />
<load cond="$anytfxjs!='Y'" target="js/jquery.anythingslider.fx.min.js" />
<load cond="$jwjs!='Y'" target="../mplayer/jwplayer.js" />
<load cond="$jqmjs!='Y'" target="../mplayer/jquery.media.js" />
<load cond="$swfjs!='Y'" target="../mplayer/swfobject.js" />
<load cond="$silvjs!='Y'" target="../mplayer/silverlight.js" />
<load cond="$wmvjs!='Y'" target="../mplayer/wmvplayer.js" />
<load cond="$flowjs!='Y'" target="../mplayer/flowplayer-3.2.8.min.js" />

<!--// 멀티스킨 사용을 위해 변수 또는 ID 랜덤 지정 -->
{@ $slide_id = mt_rand()}
{@ $skin_id = "AnyT240_".$slide_id}

{@ $nav_width = 90}
{@ $nav_height = 28}

<!--// 제목 폰트 크기 정의 -->
<!--@if(!$media_info->title_font_size)-->
	{@ $title_font_size = 15}
<!--@else-->
	{@ $title_font_size = $media_info->title_font_size}
<!--@end-->

<!--// 제목 폰트 색 정의 -->
<!--@if(!$media_info->title_font_color)-->
	{@ $title_font_color = '#222'}
<!--@else-->
	{@ $title_font_color = $media_info->title_font_color}
<!--@end-->

<!--// 제목 글꼴 정의 -->
<!--@if($media_info->title_font_family=='Default')-->
	{@ $title_font_family = "굴림,Arial,Helevtica,Verdana,san-serif"}
<!--@else-->
	{@ $title_font_family = $media_info->title_font_family}
<!--@end-->

<!--// 사용자 폰트인 경우 -->
<!--@if($media_info->title_font_user)-->
	{@ $title_font_family = $media_info->title_font_user}
<!--@end-->

<!--// 제목+카테고리 높이(23px) -->
<!--@if(!$media_info->title_height)-->
	{@ $textT1_Height = 23}
<!--@else-->
	{@ $textT1_Height = $media_info->title_height}
<!--@end-->

<!--// 내용의 폰트 크기 정의 -->
<!--@if(!$media_info->content_font_size)-->
	{@ $content_font_size = 13}
<!--@else-->
	{@ $content_font_size = $media_info->content_font_size}
<!--@end-->

<!--// 내용의 폰트 색 정의 -->
<!--@if(!$media_info->content_font_color)-->
	{@ $content_font_color = '#000'}
<!--@else-->
	{@ $content_font_color = $media_info->content_font_color}
<!--@end-->

<!--// 내용의 폰트 스타일 정의 -->
<!--@if($media_info->content_font_family=='Default')-->
	{@ $content_font_family = "돋움,Arial,Helevtica,Verdana,san-serif"}
<!--@else-->
	{@ $content_font_family = $media_info->content_font_family}
<!--@end-->

<!--// 내용 폰트 직접 입력인 경우 -->
<!--@if($media_info->content_font_user)-->
	{@ $content_font_family = $media_info->content_font_user}
<!--@end-->

<!--// 내용 높이(50px) -->
<!--@if(!$media_info->content_height)-->
	{@ $textC1_Height = 50}
<!--@else-->
	{@ $textC1_Height = $media_info->content_height}
<!--@end-->

<!--@if($media_info->show_control=='N')-->
{$nav_width = 0}
<!--@end-->

<!--// 전체 넓이 =  슬라이드 널비 + 좌우버튼 넓이 -->
{@ $itemWidth = $media_info->media_width+$nav_width}

<!--// 전체 높이 =  슬라이드 널비 + 좌우버튼 넓이 -->
{@ $itemHeight = $media_info->media_height+$nav_height}

{@ $skincssimgpath = getSiteUrl()."widgets/contentsmedia/skins"}

<style type="text/css">
/************************************************************************************
RESET
*************************************************************************************/
html, body, address, blockquote, div, dl, form, h1, h2, h3, h4, h5, h6, ol, p, pre, table, ul,
dd, dt, li, tbody, td, tfoot, th, thead, tr, button, del, ins, map, object,
a, abbr, acronym, b, bdo, big, br, cite, code, dfn, em, i, img, kbd, q, samp, small, span,
strong, sub, sup, tt, var, legend, fieldset {
	margin: 0;
	padding: 0;
}

img, fieldset {
	border: 0;
}

/* reset iphone text adjust */
html {
	-webkit-text-size-adjust: 100%;
}

.textT1_{$skin_id}, .textT1_{$skin_id} a, .textT1_{$skin_id} a:visited {
	color:{$title_font_color};
	font-family: {$title_font_family};
	font-size: {$title_font_size}px;
	font-weight: bold;
	text-decoration: none;
	height: {$textT1_Height}px;
	<!--@if($media_info->show_title=='Y')-->display:block;<!--@else-->display:none;<!--@end-->
}
.textT1_{$skin_id} a:hover, .textT1_{$skin_id} a:focus {
	text-decoration: underline;
}

.textC1_{$skin_id}, .textC1_{$skin_id} a, .textC1_{$skin_id} a:visited {
	text-align:justify;
	color:{$content_font_color};
	font-family: {$content_font_family};
	font-size: {$content_font_size}px;
	font-weight: normal;
	text-decoration: none;
	height: {$textC1_Height}px;
	<!--@if($media_info->show_content=='Y')-->display:block;<!--@else-->display:none;<!--@end-->
}
.textC1_{$skin_id} a:hover, .textC1_{$skin_id} a:focus {
	text-decoration: underline;
}

#{$skin_id}_wrap {
	position:relative;
	margin: 0 auto;
	width: {$itemWidth}px; /* 전체 넓이 */
	height: {$itemHeight}px; /* 전체 높이 */
}

/*****************************
  SET DEFAULT DIMENSIONS HERE
 *****************************/
/* change the ID to match your slider */
#{$skin_id} {
	width: {$media_info->media_width}px; /* 전체 넓이 */
	height: {$media_info->media_height}px; /* 전체 높이 */
	list-style: none;
	/* Prevent FOUC (see FAQ page) and keep things readable if javascript is disabled */
	overflow-y: auto;
	overflow-x: hidden;
}

div.anythingSlider .anythingControls ul {
width: {$media_info->media_width-50}px;
}

#{$skin_id} .panel { position: relative; }

/* contentslider 위젯 : 배워서남준다(http://studyu.cafe24.com)*/
</style>

<!--@if($media_info->items_shuffle=='Y')-->
	{@ shuffle($media_info->media_items)}
<!--@end-->

<div id="{$skin_id}_wrap">
	<ul id="{$skin_id}">
<!--@foreach($media_info->media_items as $key => $item)-->
	<!--@if($item->getMedia())-->
			<li>
				{$item->getMedia()}
			</li>
	<!--@elseif($item->getThumbnail() && $media_info->show_thumbnail == "Y")-->
			<li>
				<img src="{$item->getImageMax()}" width="{$media_info->media_width}" height="{$media_info->media_height}" />
			</li>
		<!--@else-->
			<!--@if($media_info->show_content_title=='Y')-->
			<li>
				<div class="textSlide">
					<h3 class="textT1_{$skin_id}"><a href="{$item->getLinkDoc()}">{$item->getTitle($media_info->subject_cut_size)}</a></h3>
					<p style="text-align:left" class="textC1_{$skin_id}">{$item->getContent($media_info->content_cut_size)}</p>
				</div>
			</li>
			<!--@end-->
		<!--@end-->
<!--@end-->
	</ul>
</div>

<script type="text/javascript">
jQuery(document).ready(function($) {
	$('#{$skin_id}').anythingSlider({
		theme           : '{$colorset}',
		enablePlay      : true,
		expand			: true,
		resizeContents	: true,
		autoPlay        : false,
		autoPlayDelayed	: true,
		pauseOnHover    : true,
		startStopped    : false, // If autoPlay is on, this can force it to start stopped
		buildArrows		: {$media_info->show_control},
		buildNavigation : true,
		buildStartStop	: true,
		toggleArrows	: $.browser.msie && $.browser.version < 9 ? false : true,
		toggleControls	: false,
		enableKeyboard	: true,
		width           : {$media_info->media_width},   // Override the default CSS width
		height          : {$media_info->media_height},
		autoPlayLocked  : false,  // If true, user changing slides will not stop the slideshow
		delay           : 5000
	});
});
</script>
